<!DOCTYPE html>
<html lang="fr">

{% include 'includes/head.html' %}

<body>
    <h1>Rejoindre une partie</h1>
    <form action="rejoindre/creation" method="">
        <p>
            <!-- Demande du pseudo -->
            <label for="pseudo">Pseudo : </label>
            <input type="text" name="pseudo" id="pseudo" autofocus required>
        </p>
        <p>
            <!-- Demande du code de la partie -->
            <label for="code_partie">Code : </label>
            <input type="text" name="code_partie" id="code_partie" required>
        </p>
        <p>
            <!-- Bouton pour valider -->
            <input type="submit" value="rejoindre">

        </p>
    </form>
    <p>{{message}}</p>
    <script>
        // Récupère le code dans l'URL (ex: ?code=ABCD) et l'injecte dans le formulaire
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');
            if (code) {
                document.getElementById('code_partie').value = code;
                document.getElementById('pseudo').focus();
            }
        }
    </script>
</body>

</html>